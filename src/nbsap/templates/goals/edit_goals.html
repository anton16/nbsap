{% extends 'layout.html' %}

{% block extra_head %}
  <style>
    .controls textarea{width: 100%;}
    .controls textarea#id_title {height: 54px;}
  </style>
  {{ form.media }}
{% endblock %}

{% block content %}

{% load i18n %}
{% get_current_language as lang %}

<h1 class="small">{% trans "Edit goal" %} {{ goal.code|title }}</h1>

<hr />

{% if form.errors %}
  <p style="color:red;">
    {% blocktrans with form.errors|pluralize as errors %}Please correct the error {{ errors }} below.{% endblocktrans %}
  </p>
{% endif %}

<form action="" method="post">

  <div class="control-group">
    <label class="control-label" for="language">{% trans "Language" %}</label>
    <div class="controls">
      {{ form.language }}
    </div>
  </div>

  <div class="row">
    <div class="span6">
      <div class="language-container">

        <div class="control-group">
          <label class="control-label" for="title">{% trans "Title" %}</label>
          <div class="controls">
            {{ form.title }}
            {{ form.title.errors }}
          </div>
        </div>

        <div class="control-group">
          <label class="control-label" for="description">{% trans "Description" %}</label>
          <div class="controls">
            {{ form.description }}
            {{ form.description.errors }}
          </div>
        </div>

      </div>
    </div>

    {% if lang != 'en' %}
     <div class="span6 original-hideout">
      <p class="original-title">{% trans "Original title in English" %}</p>
      <div class="well">
        {{ goal.title_en }}
      </div>

      <p class="original-description">{% trans "Original description in English" %}</p>
      <div class="well">
        {{ goal.description_en|safe }}
      </div>
    </div>
    {% endif %}

  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">{% trans "Save" %}</button>
    <a href="{% url 'list_goals' %}" class="btn" type="button">{% trans "Cancel" %}</a>
  </div>

</form>
{% endblock %}

{% block scripts %}
<script src="/static/js/national_objective.js"></script>
{% endblock scripts %}
